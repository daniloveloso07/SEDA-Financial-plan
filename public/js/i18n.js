// ═══════════════════════════════════════════════════════════
// INTERNATIONALIZATION (i18n) MANAGER
// ═══════════════════════════════════════════════════════════

const TRANSLATIONS = {
    "en": {
        "header": {
            "title": "SEDA Student Finance Plan"
        },
        "landing": {
            "hero_title": "Finance Your Dream of Studying in Ireland",
            "hero_subtitle": "Get pre-approved for flexible payment plans for your English course at SEDA College",
            "commercial_notice": "The SEDA Student Finance Plan uses specific pricing conditions that may differ from cash or promotional payment options.",
            "cta_button": "Start Your Application",
            "features_title": "Why Choose Our Finance Plan?",
            "feature_1_title": "Flexible Payment Options",
            "feature_1_desc": "Pay in 6, 12, 15, or 18 monthly installments",
            "feature_2_title": "Quick Pre-Approval",
            "feature_2_desc": "Get your financing decision in just a few days",
            "feature_3_title": "Transparent Rates",
            "feature_3_desc": "Fixed interest rates with no hidden fees",
            "calculator_title": "Calculate Your Finance Plan"
        },
        "calculator": {
            "title": "Finance Plan Calculator",
            "campus": "Campus",
            "campus_dublin": "Dublin",
            "campus_cork": "Cork",
            "shift": "Shift",
            "shift_am": "Morning (AM)",
            "shift_pm": "Afternoon (PM)",
            "entry_percent": "Entry Payment",
            "entry_30": "30% Entry",
            "entry_40": "40% Entry",
            "installments": "Number of Installments",
            "installments_6": "6 months",
            "installments_12": "12 months",
            "installments_15": "15 months",
            "installments_18": "18 months",
            "result_title": "Your Finance Plan Summary",
            "package_price": "Package Price (incl. €100 FDI fee)",
            "entry_amount": "Entry Payment",
            "financed_amount": "Financed Amount",
            "interest_rate": "Interest Rate",
            "monthly_installment": "Monthly Installment",
            "disclaimer": "This is an estimated simulation. Final approval is subject to analysis.",
            "commercial_notice": "The SEDA Student Finance Plan uses specific pricing conditions that may differ from cash or promotional payment options."
        },
        "form": {
            "welcome_1": "Hello! It's great that you're interested in the SEDA Student Finance Plan.",
            "welcome_2": "Before we start, I have an important notice for you! filling out this application does not guarantee access to benefits.",
            "welcome_3": "All applications are carefully evaluated. At the end of this evaluation you will see if you were approved.",
            "welcome_4": "During your 6 months of the project, you will have access to: \n- Telemedicine 24/7 Free\n- Up to 80% discount on exams and appointments\n- Discounts on medicines\n- Dental coverage",
            "start_btn": "Start!",
            "name_question": "I'd like to call you by your name from now on. What is your name?",
            "lets_go": "Perfect, {{name}}. Now please give me your WhatsApp so I can contact you if you are selected.",
            "title": "Finance Application",
            "student_section": "Student Information",
            "guarantor_section": "Guarantor Information",
            "full_name": "Full Name",
            "email": "Email Address",
            "phone": "Phone / WhatsApp (with country code)",
            "birthdate": "Date of Birth",
            "id_number": "ID / CPF Number",
            "address": "Full Address",
            "postal_code": "Postal Code",
            "occupation": "Occupation",
            "income": "Monthly Income",
            "travel_date": "Expected Travel Date",
            "country": "Country",
            "duration": "Program Duration",
            "duration_long": "Long duration (33 weeks: 25 weeks course + 8 weeks holidays)",
            "duration_short": "Short duration (1-12 weeks)",
            "relationship": "Relationship to Student",
            "relationship_father": "Father",
            "relationship_mother": "Mother",
            "relationship_grandfather": "Grandfather",
            "relationship_grandmother": "Grandmother",
            "relationship_brother": "Brother",
            "relationship_sister": "Sister",
            "relationship_uncle_aunt": "Uncle/Aunt",
            "relationship_spouse": "Spouse",
            "relationship_other": "Other",
            "privacy_notice": "I consent to the processing of my personal data for the purpose of this finance application.",
            "submit": "Submit Application",
            "next": "Send",
            "validation_required": "This field is required",
            "validation_email": "Please enter a valid email address",
            "validation_phone": "Please enter a valid phone number with country code",
            "validation_age": "You must be at least 18 years old"
        },
        "result": {
            "title": "Application Submitted",
            "reference": "Reference Number",
            "status_pre_approved": "PRE-APPROVED (Under Review)",
            "status_under_analysis": "UNDER ANALYSIS",
            "status_out_of_profile": "OUT OF PROFILE",
            "message_pre_approved": "Congratulations! Your application has been pre-approved and is now under review. A SEDA consultant will contact you shortly to finalize your finance plan. First financing installment starts 30 days after contract signing, allowing financial organization before arrival.",
            "message_under_analysis": "Thank you for your application. Our team is analyzing your information. A SEDA consultant will contact you shortly with more details.",
            "message_out_of_profile": "This plan may not be ideal for you at this moment, but a SEDA consultant can help you explore alternative options.",
            "contact_consultant": "Contact a SEDA Consultant",
            "financial_summary": "Financial Summary",
            "next_steps": "Next Steps",
            "contact_info": "A consultant will reach out to you via email or WhatsApp within 2-3 business days."
        },
        "footer": {
            "copyright": "© 2025 SEDA College. All rights reserved.",
            "powered_by": "Finance Plan powered by FDI"
        },
        "countries": {
            "brazil": "Brazil",
            "paraguay": "Paraguay",
            "argentina": "Argentina",
            "chile": "Chile",
            "uruguay": "Uruguay",
            "mexico": "Mexico",
            "costa_rica": "Costa Rica",
            "el_salvador": "El Salvador",
            "guatemala": "Guatemala"
        }
    },
    "pt": {
        "header": {
            "title": "Plano de Financiamento SEDA"
        },
        "landing": {
            "hero_title": "Financie Seu Sonho de Estudar na Irlanda",
            "hero_subtitle": "Obtenha pré-aprovação para planos de pagamento flexíveis para seu curso de inglês no SEDA College",
            "commercial_notice": "O Plano de Financiamento SEDA utiliza condições de preço específicas que podem diferir das opções de pagamento à vista ou promocionais.",
            "cta_button": "Iniciar Sua Aplicação",
            "features_title": "Por Que Escolher Nosso Plano de Financiamento?",
            "feature_1_title": "Opções de Pagamento Flexíveis",
            "feature_1_desc": "Pague em 6, 12, 15 ou 18 parcelas mensais",
            "feature_2_title": "Pré-Aprovação Rápida",
            "feature_2_desc": "Receba sua decisão de financiamento em apenas alguns dias",
            "feature_3_title": "Taxas Transparentes",
            "feature_3_desc": "Taxas de juros fixas sem taxas ocultas",
            "calculator_title": "Calcule Seu Plano de Financiamento"
        },
        "calculator": {
            "title": "Calculadora do Plano de Financiamento",
            "campus": "Campus",
            "campus_dublin": "Dublin",
            "campus_cork": "Cork",
            "shift": "Turno",
            "shift_am": "Manhã (AM)",
            "shift_pm": "Tarde (PM)",
            "entry_percent": "Entrada",
            "entry_30": "30% de Entrada",
            "entry_40": "40% de Entrada",
            "installments": "Número de Parcelas",
            "installments_6": "6 meses",
            "installments_12": "12 meses",
            "installments_15": "15 meses",
            "installments_18": "18 meses",
            "result_title": "Resumo do Seu Plano de Financiamento",
            "package_price": "Preço do Pacote (incl. €100 taxa FDI)",
            "entry_amount": "Valor da Entrada",
            "financed_amount": "Valor Financiado",
            "interest_rate": "Taxa de Juros",
            "monthly_installment": "Parcela Mensal",
            "disclaimer": "Esta é uma simulação estimada. A aprovação final está sujeita a análise.",
            "commercial_notice": "O Plano de Financiamento SEDA utiliza condições de preço específicas que podem diferir das opções de pagamento à vista ou promocionais."
        },
        "form": {
            "title": "Aplicação de Financiamento",
            "student_section": "Informações do Estudante",
            "guarantor_section": "Informações do Fiador",
            "full_name": "Nome Completo",
            "email": "Endereço de Email",
            "phone": "Telefone / WhatsApp (com código do país)",
            "birthdate": "Data de Nascimento",
            "id_number": "CPF / Número de Identidade",
            "address": "Endereço Completo",
            "postal_code": "Código Postal",
            "occupation": "Ocupação",
            "income": "Renda Mensal",
            "travel_date": "Data de Viagem Esperada",
            "country": "País",
            "duration": "Duração do Programa",
            "duration_long": "Longa duração (33 semanas: 25 semanas de curso + 8 semanas de férias)",
            "duration_short": "Curta duração (1-12 semanas)",
            "relationship": "Relação com o Estudante",
            "relationship_father": "Pai",
            "relationship_mother": "Mãe",
            "relationship_grandfather": "Avô",
            "relationship_grandmother": "Avó",
            "relationship_brother": "Irmão",
            "relationship_sister": "Irmã",
            "relationship_uncle_aunt": "Tio/Tia",
            "relationship_spouse": "Cônjuge",
            "relationship_other": "Outro",
            "privacy_notice": "Eu concordo com o processamento dos meus dados pessoais para fins desta aplicação de financiamento.",
            "submit": "Enviar Aplicação",
            "next": "Próximo",
            "validation_required": "Este campo é obrigatório",
            "validation_email": "Por favor, insira um endereço de email válido",
            "validation_phone": "Por favor, insira um número de telefone válido com código do país",
            "validation_age": "Você deve ter pelo menos 18 anos",
            "welcome_1": "Olá! Que legal que você se interessou pelo Plano de Financiamento SEDA.",
            "welcome_2": "Antes de começarmos, tenho um aviso importante pra te dar! O preenchimento desta aplicação não garante o seu acesso ao benefícios.",
            "welcome_3": "Todas as aplicações são cuidadosamente avaliadas e, ao final desta avaliação você já consegue ver se foi aprovado.",
            "welcome_4": "Durante seus 6 meses do projeto, você terá direito a: \n- Telemedicina 24horas Gratuito\n- Até 80% de descontos em exames e consultas\n- Descontos em medicamentos e farmácias\n- Cobertura odontológica",
            "start_btn": "Começar!",
            "name_question": "Gostaria de te chamar pelo nome a partir de agora. Como você se chama?",
            "lets_go": "Perfeito, {{name}}. Agora me passa o seu WhatsApp, pra que eu possa entrar em contato, caso você seja selecionado.",
            "next": "Enviar"
        },
        "result": {
            "title": "Aplicação Enviada",
            "reference": "Número de Referência",
            "status_pre_approved": "PRÉ-APROVADO (Em Análise)",
            "status_under_analysis": "EM ANÁLISE",
            "status_out_of_profile": "FORA DO PERFIL",
            "message_pre_approved": "Parabéns! Sua aplicação foi pré-aprovada e está agora em análise. Um consultor SEDA entrará em contato em breve para finalizar seu plano de financiamento. A primeira parcela do financiamento começa 30 dias após a assinatura do contrato, permitindo organização financeira antes da chegada.",
            "message_under_analysis": "Obrigado pela sua aplicação. Nossa equipe está analisando suas informações. Um consultor SEDA entrará em contato em breve com mais detalhes.",
            "message_out_of_profile": "Este plano pode não ser ideal para você neste momento, mas um consultor SEDA pode ajudá-lo a explorar opções alternativas.",
            "contact_consultant": "Contatar um Consultor SEDA",
            "financial_summary": "Resumo Financeiro",
            "next_steps": "Próximos Passos",
            "contact_info": "Um consultor entrará em contato com você por email ou WhatsApp dentro de 2-3 dias úteis."
        },
        "footer": {
            "copyright": "© 2025 SEDA College. Todos os direitos reservados.",
            "powered_by": "Plano de Financiamento desenvolvido por FDI"
        },
        "countries": {
            "brazil": "Brasil",
            "paraguay": "Paraguai",
            "argentina": "Argentina",
            "chile": "Chile",
            "uruguay": "Uruguai",
            "mexico": "México",
            "costa_rica": "Costa Rica",
            "el_salvador": "El Salvador",
            "guatemala": "Guatemala"
        }
    },
    "es": {
        "header": {
            "title": "Plan de Financiamiento SEDA"
        },
        "landing": {
            "hero_title": "Financia Tu Sueño de Estudiar en Irlanda",
            "hero_subtitle": "Obtén preaprobación para planes de pago flexibles para tu curso de inglés en SEDA College",
            "commercial_notice": "El Plan de Financiamiento SEDA utiliza condiciones de precio específicas que pueden diferir de las opciones de pago en efectivo o promocionales.",
            "cta_button": "Iniciar Tu Solicitud",
            "features_title": "¿Por Qué Elegir Nuestro Plan de Financiamiento?",
            "feature_1_title": "Opciones de Pago Flexibles",
            "feature_1_desc": "Paga en 6, 12, 15 o 18 cuotas mensuales",
            "feature_2_title": "Preaprobación Rápida",
            "feature_2_desc": "Obtén tu decisión de financiamiento en solo unos días",
            "feature_3_title": "Tasas Transparentes",
            "feature_3_desc": "Tasas de interés fijas sin cargos ocultos",
            "calculator_title": "Calcula Tu Plan de Financiamiento"
        },
        "calculator": {
            "title": "Calculadora del Plan de Financiamiento",
            "campus": "Campus",
            "campus_dublin": "Dublín",
            "campus_cork": "Cork",
            "shift": "Turno",
            "shift_am": "Mañana (AM)",
            "shift_pm": "Tarde (PM)",
            "entry_percent": "Pago de Entrada",
            "entry_30": "30% de Entrada",
            "entry_40": "40% de Entrada",
            "installments": "Número de Cuotas",
            "installments_6": "6 meses",
            "installments_12": "12 meses",
            "installments_15": "15 meses",
            "installments_18": "18 meses",
            "result_title": "Resumen de Tu Plan de Financiamiento",
            "package_price": "Precio del Paquete (incl. €100 tarifa FDI)",
            "entry_amount": "Pago de Entrada",
            "financed_amount": "Monto Financiado",
            "interest_rate": "Tasa de Interés",
            "monthly_installment": "Cuota Mensual",
            "disclaimer": "Esta es una simulación estimada. La aprobación final está sujeta a análisis.",
            "commercial_notice": "El Plan de Financiamiento SEDA utiliza condiciones de precio específicas que pueden diferir de las opciones de pago en efectivo o promocionales."
        },
        "form": {
            "title": "Solicitud de Financiamiento",
            "student_section": "Información del Estudiante",
            "guarantor_section": "Información del Garante",
            "full_name": "Nombre Completo",
            "email": "Dirección de Correo Electrónico",
            "phone": "Teléfono / WhatsApp (con código de país)",
            "birthdate": "Fecha de Nacimiento",
            "id_number": "Número de Identidad / DNI",
            "address": "Dirección Completa",
            "postal_code": "Código Postal",
            "occupation": "Ocupación",
            "income": "Ingreso Mensual",
            "travel_date": "Fecha de Viaje Esperada",
            "country": "País",
            "duration": "Duración del Programa",
            "duration_long": "Larga duración (33 semanas: 25 semanas de curso + 8 semanas de vacaciones)",
            "duration_short": "Corta duración (1-12 semanas)",
            "relationship": "Relación con el Estudiante",
            "relationship_father": "Padre",
            "relationship_mother": "Madre",
            "relationship_grandfather": "Abuelo",
            "relationship_grandmother": "Abuela",
            "relationship_brother": "Hermano",
            "relationship_sister": "Hermana",
            "relationship_uncle_aunt": "Tío/Tía",
            "relationship_spouse": "Cónyuge",
            "relationship_other": "Otro",
            "privacy_notice": "Consiento el procesamiento de mis datos personales para fines de esta solicitud de financiamiento.",
            "submit": "Enviar Solicitud",
            "next": "Siguiente",
            "validation_required": "Este campo es obligatorio",
            "validation_email": "Por favor, ingresa una dirección de correo electrónico válida",
            "validation_phone": "Por favor, ingresa un número de teléfono válido con código de país",
            "validation_age": "Debes tener al menos 18 años",
            "welcome_1": "¡Hola! Qué bueno que te interesaste por el Plan de Financiamiento SEDA.",
            "welcome_2": "Antes de comenzar, ¡tengo un aviso importante para ti! completar esta solicitud no garantiza el acceso a los beneficios.",
            "welcome_3": "Todas las solicitudes son evaluadas cuidadosamente y al final de esta evaluación podrás ver si fuiste aprobado.",
            "welcome_4": "Durante tus 6 meses del proyecto, tendrás acceso a: \n- Telemedicina 24 horas Gratuita\n- Hasta 80% de descuento en exámenes y consultas\n- Descuentos en medicamentos y farmacias\n- Cobertura odontológica",
            "start_btn": "¡Comenzar!",
            "name_question": "Me gustaría llamarte por tu nombre a partir de ahora. ¿Cómo te llamas?",
            "lets_go": "Perfecto, {{name}}. Ahora pásame tu WhatsApp, para que pueda contactarte si eres seleccionado.",
            "next": "Enviar"
        },
        "result": {
            "title": "Solicitud Enviada",
            "reference": "Número de Referencia",
            "status_pre_approved": "PREAPROBADO (En Revisión)",
            "status_under_analysis": "EN ANÁLISIS",
            "status_out_of_profile": "FUERA DE PERFIL",
            "message_pre_approved": "¡Felicitaciones! Tu solicitud ha sido preaprobada y ahora está en revisión. Un consultor de SEDA se pondrá en contacto contigo pronto para finalizar tu plan de financiamiento. La primera cuota del financiamiento comienza 30 días después de la firma del contrato, permitiendo organización financiera antes de la llegada.",
            "message_under_analysis": "Gracias por tu solicitud. Nuestro equipo está analizando tu información. Un consultor de SEDA se pondrá en contacto contigo pronto con más detalles.",
            "message_out_of_profile": "Este plan puede no ser ideal para ti en este momento, pero un consultor de SEDA puede ayudarte a explorar opciones alternativas.",
            "contact_consultant": "Contactar a un Consultor SEDA",
            "financial_summary": "Resumen Financiero",
            "next_steps": "Próximos Pasos",
            "contact_info": "Un consultor se comunicará contigo por correo electrónico o WhatsApp dentro de 2-3 días hábiles."
        },
        "footer": {
            "copyright": "© 2025 SEDA College. Todos los derechos reservados.",
            "powered_by": "Plan de Financiamiento desarrollado por FDI"
        },
        "countries": {
            "brazil": "Brasil",
            "paraguay": "Paraguay",
            "argentina": "Argentina",
            "chile": "Chile",
            "uruguay": "Uruguay",
            "mexico": "México",
            "costa_rica": "Costa Rica",
            "el_salvador": "El Salvador",
            "guatemala": "Guatemala"
        }
    }
};

class I18n {
    constructor() {
        this.currentLanguage = this.getStoredLanguage() || 'en';
    }

    getStoredLanguage() {
        return localStorage.getItem('seda_language');
    }

    setLanguage(lang) {
        if (TRANSLATIONS[lang]) {
            this.currentLanguage = lang;
            localStorage.setItem('seda_language', lang);
            this.updatePageLanguage();
        }
    }

    t(path) {
        const keys = path.split('.');
        let value = TRANSLATIONS[this.currentLanguage];

        for (const key of keys) {
            if (value && typeof value === 'object') {
                value = value[key];
            } else {
                return path; // Return path if translation not found
            }
        }

        return value || path;
    }

    updatePageLanguage() {
        // Update all elements with data-i18n attribute
        document.querySelectorAll('[data-i18n]').forEach(element => {
            const key = element.getAttribute('data-i18n');
            element.textContent = this.t(key);
        });

        // Update all elements with data-i18n-placeholder attribute
        document.querySelectorAll('[data-i18n-placeholder]').forEach(element => {
            const key = element.getAttribute('data-i18n-placeholder');
            element.placeholder = this.t(key);
        });

        // Update language selector buttons
        document.querySelectorAll('.language-btn').forEach(btn => {
            btn.classList.remove('active');
            if (btn.dataset.lang === this.currentLanguage) {
                btn.classList.add('active');
            }
        });
    }
}

// Initialize i18n
const i18n = new I18n();

// Initialize language selector on page load
document.addEventListener('DOMContentLoaded', () => {
    i18n.updatePageLanguage();

    // Add click handlers to language buttons
    document.querySelectorAll('.language-btn').forEach(btn => {
        btn.addEventListener('click', () => {
            i18n.setLanguage(btn.dataset.lang);
        });
    });
});
